<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yicheng.tourism.mapper.ext.PermissionMapperExt">
  <select id="qryByCondition" resultType="com.yicheng.tourism.entity.Permission">
    select <include refid="com.yicheng.tourism.mapper.PermissionMapper.Base_Column_List"></include>
    from t_permission
    <include refid="sql_where"></include>
  </select>
  <sql id="sql_where">
    <where>
      <if test="c.keyWords != null and '' !=c.keyWords">

      </if>
    </where>
  </sql>

  <select id="qryByRole"  resultType="com.yicheng.tourism.entity.Permission">
    select t1.*,t3.nav_id pid
    from t_permission t1,t_nav_permission t2,t_role_nav t3
    where t1.id = t2.permission_id and  t2.nav_id = t3.nav_id and t3.role_id in
    <foreach collection="c" item="item" index="index" separator="," open="(" close=")">
     #{item}
    </foreach>

  </select>
</mapper>